/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var S=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames;var G=Object.prototype.hasOwnProperty;var F=(c,s)=>{for(var t in s)S(c,t,{get:s[t],enumerable:!0})},Q=(c,s,t,e)=>{if(s&&typeof s=="object"||typeof s=="function")for(let n of _(s))!G.call(c,n)&&n!==t&&S(c,n,{get:()=>s[n],enumerable:!(e=B(s,n))||e.enumerable});return c};var H=c=>Q(S({},"__esModule",{value:!0}),c);var z={};F(z,{default:()=>T});module.exports=H(z);var o=require("obsidian");var k='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M2.344 2.343a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746m1.06 10.253a6.5 6.5 0 1 0 9.108-9.275a6.5 6.5 0 0 0-9.108 9.275M6.03 4.97L8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326a.75.75 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275a.75.75 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326a.75.75 0 0 1 .215-.734L6.94 8L4.97 6.03a.75.75 0 0 1 .018-1.042a.75.75 0 0 1 1.042-.018"/></svg>',D='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M1 1.75C1 .784 1.784 0 2.75 0h7.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073ZM8 3.25a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0V7h-1.5a.75.75 0 0 1 0-1.5h1.5V4A.75.75 0 0 1 8 3.25m-3 8a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75"/></svg>',N='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"/><path fill="currentColor" d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06z"/></svg>',L='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m1.5 0a6.5 6.5 0 1 0 13 0a6.5 6.5 0 0 0-13 0m10.28-1.72l-4.5 4.5a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 .018-1.042a.75.75 0 0 1 1.042-.018l1.47 1.47l3.97-3.97a.75.75 0 0 1 1.042.018a.75.75 0 0 1 .018 1.042"/></svg>',P='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="currentColor" d="M2 1.75C2 .784 2.784 0 3.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 12.25 15h-7a.75.75 0 0 1 0-1.5h7a.25.25 0 0 0 .25-.25V6H9.75A1.75 1.75 0 0 1 8 4.25V1.5H3.75a.25.25 0 0 0-.25.25V4.5a.75.75 0 0 1-1.5 0Zm-.5 10.487v1.013a.75.75 0 0 1-1.5 0v-1.012a3.75 3.75 0 0 1 3.77-3.749L4 8.49V6.573a.25.25 0 0 1 .42-.183l2.883 2.678a.25.25 0 0 1 0 .366L4.42 12.111a.25.25 0 0 1-.42-.183V9.99l-.238-.003a2.25 2.25 0 0 0-2.262 2.25m8-10.675V4.25c0 .138.112.25.25.25h2.688l-.011-.013l-2.914-2.914z"/></svg>',V='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 100 100"><path fill="currentColor" d="M27.572 43.713c-.809 0-1.617.101-2.02.303c.899-3.602 4.307-7.642 7.513-9.387l.018-.011c.024-.013.048-.031.071-.044l-.003-.002c.355-.19.605-.552.605-.983a1.11 1.11 0 0 0-.505-.916l.025-.024l-4.196-2.65l-.013.011a1.1 1.1 0 0 0-.668-.242c-.184 0-.35.054-.504-.132l-.021-.019c-6.26 4.442-10.401 11.206-10.401 18.78c0 6.562 4.241 10.297 8.985 10.297c4.342 0 7.978-3.634 7.978-7.977c.001-4.34-3.027-7.268-6.864-7.268 M52.994 41.041c-4.342 0-7.978 3.634-7.978 7.977c0 4.341 3.028 7.269 6.865 7.269c.809 0 1.617-.101 2.02-.303c-.899 3.602-4.307 7.642-7.513 9.387l-.018.011c-.024.013-.048.031-.071-.044l.003.002c-.355-.19-.605-.552-.605-.983c0 .388.208.713.505.916l-.025.024l4.196 2.65l.013-.011c.189.143.413.242.668.242c.184 0 .35-.054.504-.132l.021.019c6.26-4.443 10.401-11.206 10.401-18.78c-.001-6.563-4.242-10.298-8.986-10.298"/></svg>',M='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 100 100"><path fill="currentColor" d="M17.572 43.713c-.809 0-1.617.101-2.02.303c.899-3.602 4.307-7.642 7.513-9.387l.018-.011c.024-.013.048-.031.071-.044l-.003-.002c.355-.19.605-.552.605-.983a1.11 1.11 0 0 0-.505-.916l.025-.024l-4.196-2.65l-.013.011a1.1 1.1 0 0 0-.668-.242c-.184 0-.35.054-.504.132l-.021-.019c-6.26 4.442-10.401 11.206-10.401 18.78c0 6.562 4.241 10.297 8.985 10.297c4.342 0 7.978-3.634 7.978-7.977c.001-4.34-3.027-7.268-6.864-7.268m20.547 0c-.809 0-1.617.101-2.02.303c.899-3.602 4.307-7.642 7.513-9.387l.018-.011c.024-.013.048-.031.071-.044l-.003-.002c.355-.19.605-.552.605-.983a1.11 1.11 0 0 0-.505-.916l.025-.024l-4.196-2.65l-.013.011a1.1 1.1 0 0 0-.668-.242c-.184 0-.35.054-.504.132l-.021-.019c-6.26 4.442-10.401 11.206-10.401 18.78c0 6.562 4.241 10.297 8.985 10.297c4.342 0 7.978-3.634 7.978-7.977c.001-4.34-3.027-7.268-6.864-7.268m24.875-2.672c-4.342 0-7.978 3.634-7.978 7.977c0 4.341 3.028 7.269 6.865 7.269c.809 0 1.617-.101 2.02-.303c-.899 3.602-4.307 7.642-7.513 9.387l-.018.011c-.024.013-.048.031-.071.044l.003.002c-.355.19-.605.552-.605.983c0 .388.208.713.505.916l-.025.024l4.196 2.65l.013-.011c.189.143.413.242.668.242c.184 0 .35-.054.504-.132l.021.019c6.26-4.443 10.401-11.206 10.401-18.78c-.001-6.563-4.242-10.298-8.986-10.298m20.547 0c-4.342 0-7.978 3.634-7.978 7.977c0 4.341 3.028 7.269 6.865 7.269c.809 0 1.617-.101 2.02-.303c-.899 3.602-4.307 7.642-7.513 9.387l-.018.011c-.024.013-.048.031-.071.044l.003.002c-.355.19-.605.552-.605.983c0 .388.208.713.505.916l-.025.024l4.196 2.65l.013-.011c.189.143.413.242.668.242c.184 0 .35-.054.504-.132l.021.019c6.26-4.443 10.401-11.206 10.401-18.78c-.001-6.563-4.242-10.298-8.986-10.298"/></svg>';var h=require("obsidian"),b={ignoreContractions:!0,ignoreMarkdownComments:!0,ignoreFrontmatter:!0,showInStatusBar:!0,wordsPerPage:300,marker:"",contAllContentIfNoMarker:!0,targetFolderPath:"/",propertyName:"",propertyValues:"",showQuotesModule:!0},x=class extends h.PluginSettingTab{constructor(s,t){super(s,t),this.plugin=t}display(){let{containerEl:s}=this;s.empty(),s.createEl("h2",{text:"Editor Summary Plugin Settings"}),s.createEl("h3",{text:"Word Count Configuration"}),new h.Setting(s).setName("Words per page").setDesc("Set the number of words to consider as one page.").addText(t=>t.setValue(this.plugin.settings.wordsPerPage.toString()).setPlaceholder(b.wordsPerPage.toString()).onChange(async e=>{let n=parseInt(e);!isNaN(n)&&n>0?(this.plugin.settings.wordsPerPage=n,await this.plugin.saveSettings()):(console.warn("Invalid input for Words per page. Please enter a positive number."),t.setValue(this.plugin.settings.wordsPerPage.toString()))})),new h.Setting(s).setName("Ignore contractions").setDesc("Toggle to exclude common contractions (e.g., 's, 'd, 'll) from the word count.").addToggle(t=>t.setValue(this.plugin.settings.ignoreContractions).onChange(async e=>{this.plugin.settings.ignoreContractions=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Ignore markdown comments").setDesc("Toggle to exclude content between %% lines from the count.").addToggle(t=>t.setValue(this.plugin.settings.ignoreMarkdownComments).onChange(async e=>{this.plugin.settings.ignoreMarkdownComments=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Ignore frontmatter").setDesc("Toggle to exclude the properties section (between --- lines at the top) from the count.").addToggle(t=>t.setValue(this.plugin.settings.ignoreFrontmatter).onChange(async e=>{this.plugin.settings.ignoreFrontmatter=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Marker").setDesc("Enter the string that marks the beginning of the content for word count.").addText(t=>t.setPlaceholder("Enter your marker").setValue(this.plugin.settings.marker).onChange(async e=>{this.plugin.settings.marker=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Count all if there is no marker").setDesc("Toggle to count the entire note if marker is set but not found.").addToggle(t=>t.setValue(this.plugin.settings.contAllContentIfNoMarker).onChange(async e=>{this.plugin.settings.contAllContentIfNoMarker=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Show in status bar").setDesc("Toggle to show or hide the word count in the status bar.").addToggle(t=>t.setValue(this.plugin.settings.showInStatusBar).onChange(async e=>{this.plugin.settings.showInStatusBar=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Show quotes analysis module").setDesc("Toggle to show or hide the single and double quotes counter and replacer in the custom view.").addToggle(t=>t.setValue(this.plugin.settings.showQuotesModule).onChange(async e=>{this.plugin.settings.showQuotesModule=e,await this.plugin.saveSettings(),this.plugin.updateViews()})),s.createEl("h3",{text:"Note Opening Configuration"}),new h.Setting(s).setName("Target Folder Path").setDesc('Enter the folder path to search for notes to open. Use "/" for the entire vault.').addText(t=>t.setPlaceholder("/").setValue(this.plugin.settings.targetFolderPath).onChange(async e=>{this.plugin.settings.targetFolderPath=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Property Name").setDesc("Enter the name of the property to check in note frontmatter.").addText(t=>t.setPlaceholder(b.propertyName).setValue(this.plugin.settings.propertyName).onChange(async e=>{this.plugin.settings.propertyName=e,await this.plugin.saveSettings()})),new h.Setting(s).setName("Allowed Property Values").setDesc("Enter a comma-separated list of values for the property. The note's property value must match one of these.").addText(t=>t.setPlaceholder(b.propertyValues).setValue(this.plugin.settings.propertyValues).onChange(async e=>{this.plugin.settings.propertyValues=e,await this.plugin.saveSettings()}))}};var v="git-actions-view",W="obsidian-git:pull",U="obsidian-git:push",q="obsidian-git:list-changed-files",$="obsidian-git:backup-and-close";function R(c,s){let t=c.path.replace(/\\/g,"/"),e=s.replace(/\\/g,"/");if(e==="/"||e==="")return!0;let n=e.endsWith("/")?e:e+"/";return t.startsWith(n)}function Y(c,s){let t=c;s&&(t=c.replace(/('|’)(s|d|ll|ve|re|m|t)\b/gi,""));let e=/[\p{L}\p{N}–-]+/gu;return(t.match(e)||[]).length}function j(c){return c.length}function A(c,s){let t=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return(c.match(t)||[]).length}var I=class extends o.ItemView{constructor(s,t){super(s),this.plugin=t}getViewType(){return v}getDisplayText(){return"Editor Summary"}getIcon(){return"star"}async onOpen(){let s=this.containerEl.children[1];s.empty(),s.addClass("git-actions-view-container");let t=s.createDiv({cls:"git-action-icon-button-group"});this.createIconButtons(t),s.createEl("h4",{text:"Word Count",cls:"properties-title"}),this.wordCountDisplayEl=s.createEl("div",{cls:"word-count-display"}),this.quotesDisplayEl=s.createEl("div",{cls:"quotes-display"}),s.createEl("h4",{text:"Active File Properties",cls:"properties-title"}),this.propertiesDisplayEl=s.createEl("div",{cls:"properties-display"}),this.plugin.updateViews()}createIconButtons(s){let t=s.createEl("div",{cls:"clickable-icon git-action-icon-button mod-warning"});t.innerHTML=k,t.setAttribute("aria-label","Backup, Sync and Close App"),this.registerDomEvent(t,"click",()=>{this.plugin.executeGitCommand($,"Attempting to commit, sync, and close...","Error executing Git Backup/Sync/Close.")});let e=(l,i,g,a,r)=>{let u=s.createEl("div",{cls:"clickable-icon git-action-icon-button"});u.innerHTML=l,u.setAttribute("aria-label",i),this.registerDomEvent(u,"click",()=>{this.plugin.executeGitCommand(g,a,r)})};e(L,"Git Commit and Sync",U,"Attempting Git Commit and Sync...","Error executing Git Commit and Sync."),e(N,"Git Pull",W,"Attempting Git Pull...","Error executing Git Pull."),e(D,"List Changed Files",q,"Attempting to list Git changes...","Error listing Git changes.");let n=s.createEl("div",{cls:"clickable-icon git-action-icon-button"});n.innerHTML=P,n.setAttribute("aria-label","Open Latest Chapter"),this.registerDomEvent(n,"click",()=>this.plugin.openFirstNoteWithProperty())}updateWordCountDisplay(s){this.wordCountDisplayEl&&(this.wordCountDisplayEl.innerHTML=s)}updateQuotesDisplay(s,t){if(!this.quotesDisplayEl||(this.quotesDisplayEl.empty(),!this.plugin.settings.showQuotesModule))return;let e=this.quotesDisplayEl.createDiv({cls:"quotes-analysis-container"});e.createEl("h4",{text:"Quotes Analysis",cls:"properties-title"});let n=e.createDiv({cls:"quote-button-group"}),l=n.createDiv({cls:"clickable-icon git-action-icon-button",attr:{"aria-label":"Replace Single Quotes"}});l.innerHTML=V,this.registerDomEvent(l,"mousedown",()=>{this.plugin.replaceQuotes("single")});let i=n.createDiv({cls:"clickable-icon git-action-icon-button",attr:{"aria-label":"Replace Double Quotes"}});i.innerHTML=M,this.registerDomEvent(i,"mousedown",()=>{this.plugin.replaceQuotes("double")});let g=e.createDiv({cls:"quote-counter-group"});g.createDiv({cls:"quote-counter-item",text:`Single Quotes ('): ${s}`}),g.createDiv({cls:"quote-counter-item",text:`Double Quotes ("): ${t}`})}updatePropertiesDisplay(s){if(this.propertiesDisplayEl)if(this.propertiesDisplayEl.empty(),s&&typeof s=="object"&&Object.keys(s).length>0){let t=this.propertiesDisplayEl.createEl("ul",{cls:"properties-list"});for(let e in s)if(Object.prototype.hasOwnProperty.call(s,e)&&e!=="position"){let n=s[e],l=t.createEl("li");l.createEl("strong",{text:`${e}: `});let i=l.createSpan(),g=Array.isArray(n)?n:[n];g.forEach((a,r)=>{let u=String(a),d=/\[\[(.*?)\]\]/g,m=0,p;for(;(p=d.exec(u))!==null;){p.index>m&&i.appendText(u.substring(m,p.index));let w=p[1],y,f,C=w.indexOf("|");C!==-1?(f=w.substring(0,C),y=w.substring(C+1)):(f=w,y=w);let O=i.createEl("a",{text:y,href:"#",cls:"internal-link"});this.registerDomEvent(O,"mousedown",E=>{E.button===2||E.button===1?(E.preventDefault(),this.plugin.app.workspace.openLinkText(f,"",!0)):E.button===0&&(E.preventDefault(),this.plugin.openLinkInMainEditor(f))}),m=d.lastIndex}m<u.length&&i.appendText(u.substring(m)),r<g.length-1&&i.appendText(", ")})}}else this.propertiesDisplayEl.setText("No properties found in this file.")}},T=class extends o.Plugin{constructor(){super(...arguments);this.statusBarItemEl=null;this.lastActiveEditorLeaf=null;this.cachedViewData=null}async onload(){await this.loadSettings(),this.addSettingTab(new x(this.app,this)),this.settings.showInStatusBar&&this.createStatusBarItem(),this.registerView(v,t=>new I(t,this)),this.addCommand({id:"open-custom-view",name:"Open Custom View",callback:()=>this.activateView()}),this.addRibbonIcon("star","Open Custom View",()=>this.activateView()),this.registerEvent(this.app.workspace.on("active-leaf-change",t=>{(t==null?void 0:t.view)instanceof o.MarkdownView&&(this.lastActiveEditorLeaf=t),this.calculateAndUpdate()})),this.registerEvent(this.app.workspace.on("editor-change",(t,e)=>{e.file&&this.app.workspace.getActiveViewOfType(o.MarkdownView)&&this.calculateAndUpdate()})),this.registerDomEvent(document,"selectionchange",(0,o.debounce)(()=>{this.app.workspace.getActiveViewOfType(o.MarkdownView)&&this.calculateAndUpdate()},200)),this.app.workspace.getActiveViewOfType(o.MarkdownView)&&(this.lastActiveEditorLeaf=this.app.workspace.activeLeaf),this.calculateAndUpdate()}onunload(){var t;(t=this.statusBarItemEl)==null||t.remove()}async loadSettings(){this.settings=Object.assign({},b,await this.loadData())}async saveSettings(){await this.saveData(this.settings),this.settings.showInStatusBar&&!this.statusBarItemEl?this.createStatusBarItem():!this.settings.showInStatusBar&&this.statusBarItemEl&&this.removeStatusBarItem(),this.calculateAndUpdate()}createStatusBarItem(){this.statusBarItemEl=this.addStatusBarItem()}removeStatusBarItem(){var t;(t=this.statusBarItemEl)==null||t.remove(),this.statusBarItemEl=null}async calculateAndUpdate(){let t=this.app.workspace.getActiveViewOfType(o.MarkdownView);if(t&&t.file){let e=t.editor,n=t.file,l=e.somethingSelected(),i=l?e.getSelection():e.getValue(),g=l?"selection":"file",a=this.app.metadataCache.getFileCache(n),r=a==null?void 0:a.frontmatter;if(!l){if(this.settings.ignoreFrontmatter&&i.startsWith("---")){let f=i.indexOf("---",3);if(f!==-1){let C=i.indexOf(`
`,f);i=C!==-1?i.substring(C+1):""}}if(this.settings.marker&&this.settings.marker.length>0){let f=i.indexOf(this.settings.marker);f!==-1?i=i.substring(f+this.settings.marker.length):this.settings.contAllContentIfNoMarker||(i="")}this.settings.ignoreMarkdownComments&&(i=i.replace(/%%[\s\S]*?%%/g,""))}let u=j(i),d=Y(i,this.settings.ignoreContractions),m=(d/this.settings.wordsPerPage).toFixed(2),p=g==="selection"?"Selected ":"Total ",w=A(i,"'"),y=A(i,'"');this.cachedViewData={wordCountText:`${p}Chars: ${u}<br>${p}Words: ${d}<br>${p}Pages: ${m}`,properties:r,statusBarText:`${p}Chars: ${u} | Words: ${d} | Pages: ${m}`,singleQuoteCount:w,doubleQuoteCount:y}}this.updateViews()}updateViews(){let t=this.cachedViewData;t?(this.statusBarItemEl&&(this.statusBarItemEl.innerHTML=t.statusBarText),this.app.workspace.getLeavesOfType(v).forEach(e=>{e.view instanceof I&&(e.view.updateWordCountDisplay(t.wordCountText),e.view.updatePropertiesDisplay(t.properties),e.view.updateQuotesDisplay(t.singleQuoteCount,t.doubleQuoteCount))})):(this.statusBarItemEl&&(this.statusBarItemEl.innerHTML=""),this.app.workspace.getLeavesOfType(v).forEach(e=>{e.view instanceof I&&(e.view.updateWordCountDisplay("Chars: 0<br>Words: 0<br>Pages: 0.00"),e.view.updatePropertiesDisplay(null),e.view.updateQuotesDisplay(0,0))}))}openLinkInMainEditor(t){let e=this.lastActiveEditorLeaf&&this.lastActiveEditorLeaf.view?this.lastActiveEditorLeaf:this.app.workspace.getLeaf(!0);e&&(this.app.workspace.setActiveLeaf(e),this.app.workspace.openLinkText(t,"",!1))}async activateView(){var e;let t=this.app.workspace.getLeavesOfType(v)[0];t||(t=(e=this.app.workspace.getRightLeaf(!1))!=null?e:this.app.workspace.getLeaf("split","vertical"),await t.setViewState({type:v,active:!0})),this.app.workspace.revealLeaf(t)}async openFirstNoteWithProperty(){let{targetFolderPath:t,propertyName:e,propertyValues:n}=this.settings;if(!t||!e||!n){new o.Notice("Please configure all note opening settings.");return}let l=n.split(",").map(g=>g.trim()).filter(Boolean);if(l.length===0){new o.Notice("Please specify at least one Allowed Property Value.");return}let i=this.app.vault.getMarkdownFiles().filter(g=>{var r,u;if(!R(g,t))return!1;let a=(u=(r=this.app.metadataCache.getFileCache(g))==null?void 0:r.frontmatter)==null?void 0:u[e];return a===void 0?!1:Array.isArray(a)?a.some(d=>l.includes(String(d).trim())):l.includes(String(a).trim())}).sort((g,a)=>g.path.localeCompare(a.path));i.length>0?this.openLinkInMainEditor(i[0].path):new o.Notice("No notes found with the specified criteria.")}async executeGitCommand(t,e,n){let l=this.app;try{if(new o.Notice(e),l.commands.commands[t])await l.commands.executeCommandById(t);else{let i=`Git Command ID "${t}" not found. Is the Obsidian Git plugin installed and enabled?`;console.error(i),new o.Notice(i)}}catch(i){console.error(`Error executing Git command "${t}":`,i),new o.Notice(n)}}async replaceQuotes(t){var g;let e=(g=this.lastActiveEditorLeaf)==null?void 0:g.view;if(!e){new o.Notice("No editor selected. Please click into a note before replacing quotes.");return}let n=e.editor,l=n.somethingSelected(),i=a=>{if(t==="single")return a.replace(/'/g,"\u2019");{let r=!0;return a.replace(/"/g,()=>r?(r=!1,"\u201C"):(r=!0,"\u201D"))}};if(l){let a=n.getSelection(),r=i(a);a!==r?(n.replaceSelection(r),new o.Notice("Replaced quotes in selection.")):new o.Notice("No matching quotes found in selection.")}else{let a=n.getValue(),r=0;if(this.settings.ignoreFrontmatter&&a.startsWith("---")){let p=a.indexOf("---",3);if(p!==-1){let w=a.indexOf(`
`,p);w!==-1&&(r=w+1)}}if(this.settings.marker&&this.settings.marker.length>0){let p=a.indexOf(this.settings.marker,r);if(p!==-1)r=p+this.settings.marker.length;else if(!this.settings.contAllContentIfNoMarker){new o.Notice("Marker not found. Nothing to replace.");return}}let u=a.substring(0,r),d=a.substring(r),m=i(d);d!==m?(n.setValue(u+m),new o.Notice("Replaced quotes in the document.")):new o.Notice("No matching quotes found in the document body.")}}};
